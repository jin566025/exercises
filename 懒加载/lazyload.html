<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>LazyLoad</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
    <style type="text/css">
        img {

            width:400px;
            height: 400px;
        }
    </style>
</head>
<body>
    
    <img class="m-lazyload" data-src="img/1.jpg" />
	<img class="m-lazyload" data-src="img/2.jpg" />
	<img class="m-lazyload" data-src="img/3.jpg" />
	<img class="m-lazyload" data-src="img/4.jpg" />
	<img class="m-lazyload" data-src="img/5.jpg" />
	<img class="m-lazyload" data-src="img/6.jpg" />
	<img class="m-lazyload" data-src="img/7.jpg" />
	<img class="m-lazyload" data-src="img/8.jpg" />
	<img class="m-lazyload" data-src="img/9.jpg" />
	<img class="m-lazyload" data-src="img/10.jpg" />
	<img class="m-lazyload" data-src="img/11.jpg" />
	<img class="m-lazyload" data-src="img/12.jpg" />
	<img class="m-lazyload" data-src="img/13.jpg" />
	<img class="m-lazyload" data-src="img/14.jpg" />
	<img class="m-lazyload" data-src="img/15.jpg" />
	<img class="m-lazyload" data-src="img/16.jpg" />
	<img class="m-lazyload" data-src="img/17.jpg" />
	<img class="m-lazyload" data-src="img/18.jpg" />
	<img class="m-lazyload" data-src="img/19.jpg" />
	<img class="m-lazyload" data-src="img/20.jpg" />
	<img class="m-lazyload" data-src="img/21.jpg" />
	<img class="m-lazyload" data-src="img/22.jpg" />
	<img class="m-lazyload" data-src="img/23.jpg" />
	<img class="m-lazyload" data-src="img/24.jpg" />
	<img class="m-lazyload" data-src="img/25.jpg" />
	<img class="m-lazyload" data-src="img/26.jpg" />
	<img class="m-lazyload" data-src="img/27.jpg" />
	<img class="m-lazyload" data-src="img/28.jpg" />
	<img class="m-lazyload" data-src="img/29.jpg" />
	<img class="m-lazyload" data-src="img/30.jpg" />

    <script type="text/javascript"> 	
        //炒鸡阉割版本的懒加载
    	(function(){
    		var aImg = document.querySelectorAll('img');
	        var len = aImg.length;
	        var n = 0;//存储图片加载到的位置，避免每次都从第一张图片开始遍历
	        window.onscroll = function() {
	            loadImage()
	        };
	        window.onload=function(){
	    		loadImage()
	    	};
	    	function loadImage(){
	    		var seeHeight = document.documentElement.clientHeight;
	            var scrollTop = document.body.scrollTop || document.documentElement.scrollTop;
	            for (var i = n; i < len; i++) {
	                if (aImg[i].offsetTop < seeHeight + scrollTop) {
	                 	if(aImg[i].className=="m-lazyload"){
	                 		aImg[i].src = aImg[i].getAttribute('data-src');
	                 		aImg[i].setAttribute("class","show")
	                 	}        
	                    n = i + 1;
	                }
	            }
	    	}
    	})();
    </script>
    
</body>
</html>